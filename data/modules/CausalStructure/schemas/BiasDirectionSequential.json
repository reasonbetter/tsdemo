{
  "SchemaID": "BiasDirectionSequential",
  "Description": "Assesses ability to explain a zero-observed difference via selection effects in both directions (benefit vs harm).",
  "Engine": { "driverId": "bias.direction.sequential.v1", "version": "1.0.0" },
  "GuidanceVersion": "v1",
  "Ability": { "key": "causal.selection.direction" },

  

  "PolicyDefaults": {
    "MaxConsecutiveFailedAttempts": 2,
    "MaxTotalFailedAttempts": 4
  },

  "DriverConfig": {
    "AJ_System_Guidance": {
      "AnswerTypeCatalog": [
        { "id": "BiasPositive", "description": "Assume helped; bias hid benefit" },
        { "id": "BiasNegative", "description": "Assume harmed; bias hid harm" },
        { "id": "NotSpecific", "description": "Names bias or says groups differ without describing the specific factor or process (e.g., which people, how they were selected)." },
        { "id": "NotClear", "description": "Ambiguous or incoherent; requires rephrasing to understand the mechanism." },
        { "id": "NotPlausible", "description": "Mechanism is unrealistic or does not fit the context." },
        { "id": "NotRelevant", "description": "Does not address selection/sampling or the posed question." },
        { "id": "MultipleExplanation", "description": "Contains more than one distinct reason in a single turn." }
      ],
      "AnswerTypeGuidance": [
        "Direction commitment: Choose exactly one direction per turn — BiasPositive or BiasNegative (or a quality label).",
        "Selection mechanism: Describe how sorting/sampling produces the observed association given the assumed true effect.",
        "Specificity: Avoid generic ‘bias’/‘groups differ’; name a factor/process.",
        "Theme tagging: If ThemeRegistry present, set ThemeTag to best ThemeID (or NOVEL:…).",
        "Distinctness (per direction): At most one accepted mechanism per direction in a unit.",
        "Multi‑explanation: If multiple in one turn → MultipleExplanation."
      ],
      "ProbingGuidance": [
        "VARIATION RULE: Prefer an unused Probe ID within the relevant category.",
        "DIRECTIONAL PROBES: After accepting 'BiasPositive', request the opposite direction using a probe from 'OppositeFromPositive'. After accepting 'BiasNegative', use 'OppositeFromNegative'.",
        "CLARIFICATION PROBES: For 'NotSpecific' and 'NotClear', use concise prompts that ask for a concrete factor/process or a clearer restatement; avoid hinting.",
        "NO GENERATION: Do not generate new probes; select from the item-level ProbeLibrary."
      ]
    },

    "ConfidencePolicy": { "MinAcceptConfidence": 0.65 },
    "MaxClarificationAttempts": 1,
    "ClarificationPolicy": {
      "MaxTotal": 2,
      "MaxConsecutiveNotSpecific": 1,
      "MaxConsecutiveNotClear": 1
    },

    "ProbeCategoryFor": {
      "BiasPositive": "OppositeFromPositive",
      "BiasNegative": "OppositeFromNegative",
      "NotSpecific": "NotSpecific",
      "NotClear": "NotClear",
      "NotPlausible": "NotPlausible",
      "NotRelevant": "NotRelevant",
      "MultipleExplanation": "MultipleExplanation"
    },

    

    "Tie-BreakingOrder": [
      "MultipleExplanation","NotRelevant","NotClear","NotSpecific","NotPlausible","BiasPositive","BiasNegative"
    ],

    "AnswerTypeMap": {
      "UpwardBias": "BiasPositive",
      "DownwardBias": "BiasNegative"
    }
  },

  "ScoringSpec": {
    "final": { "perDistinct": { "0": 0, "1": 0.5, "2": 1 } },
    "TargetDistinctExplanations": 2
  },

  "AJ_Contract_JsonSchema": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "properties": {
      "AnswerType": {
        "type": "string",
        "enum": ["BiasPositive","BiasNegative","NotSpecific","NotClear","NotRelevant","NotPlausible","MultipleExplanation"]
      },
      "ThemeTag": { "type": ["string","null"] },
      "Confidence": { "type": "number", "minimum": 0, "maximum": 1 },
      "RecommendedProbeID": { "type": ["string","null"] }
    },
    "required": ["AnswerType","Confidence"],
    "additionalProperties": false
  }
}
