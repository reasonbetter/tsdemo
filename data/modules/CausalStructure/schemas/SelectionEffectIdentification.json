{
  "SchemaID": "SelectionEffectIdentification",
  "Description": "Assesses the ability to identify and explain selection effects (e.g., confounding by indication, self-selection, survivorship bias) that could explain a surprising or counterintuitive association in an observational context, while adhering to stated premises/constraints.",
  "Engine": { "driverId": "aeq.aeg.v1" },
  "GuidanceVersion": "v1",
  "Ability": { "key": "causal.selection_effects" },

  

  "PolicyDefaults": {
    "MaxConsecutiveFailedAttempts": 2,
    "MaxTotalFailedAttempts": 4
  },

  "DriverConfig": {
    "AJ_System_Guidance": {
      "AnswerTypeCatalog": [
        { "id": "Good", "description": "Specific selection mechanism" },
        { "id": "NotDistinct", "description": "A plausible explanation, but relies on the same mechanism as a previous answer." },
        { "id": "NotSpecific", "description": "Acknowledges bias but does not describe the specific mechanism or confounding variable." },
        { "id": "NotClear", "description": "The meaning of the response cannot be interpreted without elaboration." },
        { "id": "RejectsAssumption", "description": "Violates a stated constraint" },
        { "id": "NotPlausible", "description": "The proposed mechanism is implausible in the context." },
        { "id": "NotRelevant", "description": "The response is irrelevant to the task." },
        { "id": "MultipleExplanation", "description": "The response contains multiple explanations." }
      ],
      "AnswerTypeGuidance": [
        "Selection mechanism: Identify how groups differ or how sampling is biased, and how that explains the association.",
        "Constraint adherence: If the explanation contradicts a stated assumption → RejectsAssumption.",
        "Specificity: ‘Confounding/selection bias’ without a specific mechanism → NotSpecific.",
        "Distinctness/ThemeTag: Use ThemeRegistry’s ThemeID (or NOVEL:…). ThemeTag required for Good/NotDistinct.",
        "Single explanation: If multiple appear → MultipleExplanation."
      ],
      "ProbingGuidance": [
        "VARIATION RULE: Select a Probe ID from the ProbeLibrary that has not yet been used in the current unit, if available.",
        "CONSTRAINT REMINDER: For 'RejectsAssumption', select a short probe from the 'RejectsAssumption' category that neutrally reiterates the relevant constraint without hinting.",
        "STANDARDIZED SELECTION: Select a probe from the appropriate category in the ProbeLibrary. Do not generate new probe text."
      ]
    },
    "Tie-BreakingOrder": [
      "MultipleExplanation","RejectsAssumption","NotRelevant","NotDistinct","NotClear","NotSpecific","NotPlausible"
    ],
    "ConfidencePolicy": { "GoodAcceptanceMinConfidence": 0.6, "NovelAcceptanceMinConfidence": 0.75 },
    "MaxClarificationAttempts": 1,
    "ClarificationPolicy": {
      "MaxTotal": 2,
      "MaxConsecutiveNotSpecific": 1,
      "MaxConsecutiveNotClear": 1
    },
    "AnswerTypeMap": { "RejectsAssumption": "RunsThroughA" },
    "RunsThroughCategoryLabel": "RejectsAssumption"
  },

  "ScoringSpec": {
    "final": { "perDistinct": { "0": -1, "1": -0.5, "2": 0, "3": 1 } }
  },

  "AJ_Contract_JsonSchema": {
    "type": "object",
    "properties": {
      "AnswerType": {
        "type": "string",
        "enum": ["Good","NotDistinct","NotSpecific","NotClear","NotRelevant","NotPlausible","RejectsAssumption","MultipleExplanation"]
      },
      "ThemeTag": { "type": ["string","null"] },
      "Confidence": { "type": "number", "minimum": 0, "maximum": 1 },
      "RecommendedProbeID": { "type": ["string","null"] }
    },
    "required": ["AnswerType","Confidence"],
    "additionalProperties": false
  }
}
